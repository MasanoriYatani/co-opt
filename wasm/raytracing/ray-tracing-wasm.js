var RayTracingWASM=(()=>{var _scriptName=typeof document!="undefined"?document.currentScript?.src:undefined;return async function(moduleArg={}){var moduleRtn;var c=moduleArg,q="object"==typeof window,t="undefined"!=typeof WorkerGlobalScope,u="object"==typeof process&&process.versions?.node&&"renderer"!=process.type;"undefined"!=typeof __filename?_scriptName=__filename:t&&(_scriptName=self.location.href);var w;
if(u){var fs=require("fs");w=a=>{a=x(a)?new URL(a):a;return fs.readFileSync(a)};process.argv.slice(2)}else if(q||t){try{new URL(".",_scriptName)}catch{}t&&(w=a=>{var d=new XMLHttpRequest;d.open("GET",a,!1);d.responseType="arraybuffer";d.send(null);return new Uint8Array(d.response)})}console.log.bind(console);var y=console.error.bind(console),A,B=!1,x=a=>a.startsWith("file://"),C,D,E,F,G,H=!1,I=0,J=null,K;
async function L(a){if(!ArrayBuffer.isView(a))if(a==K&&A)a=new Uint8Array(A);else if(w)a=w(a);else throw"both async and sync fetching of the wasm failed";return a}async function M(a){var d=K;try{var b=await L(d);return await WebAssembly.instantiate(b,a)}catch(e){throw y(`failed to asynchronously prepare wasm: ${e}`),a=e,c.onAbort?.(a),a="Aborted("+a+")",y(a),B=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),D?.(a),a;}}async function aa(a){return M(a)}
for(var N=a=>{for(;0<a.length;)a.shift()(c)},O=[],P=[],ba=()=>{var a=c.preRun.shift();P.push(a)},ca=a=>{if(u)return a=Buffer.from(a,"base64"),new Uint8Array(a.buffer,a.byteOffset,a.length);for(var d,b,e=0,f=0,h=a.length,n=new Uint8Array((3*h>>2)-("="==a[h-2])-("="==a[h-1]));e<h;e+=4,f+=3)d=Q[a.charCodeAt(e+1)],b=Q[a.charCodeAt(e+2)],n[f]=Q[a.charCodeAt(e)]<<2|d>>4,n[f+1]=d<<4|b>>2,n[f+2]=b<<6|Q[a.charCodeAt(e+3)];return n},R="undefined"!=typeof TextDecoder?new TextDecoder:void 0,da=(a=0)=>{var d=
G;var b=a;for(var e=b+void 0;d[b]&&!(b>=e);)++b;if(16<b-a&&d.buffer&&R)return R.decode(d.subarray(a,b));for(e="";a<b;){var f=d[a++];if(f&128){var h=d[a++]&63;if(192==(f&224))e+=String.fromCharCode((f&31)<<6|h);else{var n=d[a++]&63;f=224==(f&240)?(f&15)<<12|h<<6|n:(f&7)<<18|h<<12|n<<6|d[a++]&63;65536>f?e+=String.fromCharCode(f):(f-=65536,e+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else e+=String.fromCharCode(f)}return e},W=(a,d,b,e)=>{var f={string:l=>{var p=0;if(null!==l&&void 0!==l&&0!==l){for(var g=
p=0;g<l.length;++g){var k=l.charCodeAt(g);127>=k?p++:2047>=k?p+=2:55296<=k&&57343>=k?(p+=4,++g):p+=3}var r=p+1;g=p=T(r);k=G;if(0<r){r=g+r-1;for(var z=0;z<l.length;++z){var m=l.codePointAt(z);if(127>=m){if(g>=r)break;k[g++]=m}else if(2047>=m){if(g+1>=r)break;k[g++]=192|m>>6;k[g++]=128|m&63}else if(65535>=m){if(g+2>=r)break;k[g++]=224|m>>12;k[g++]=128|m>>6&63;k[g++]=128|m&63}else{if(g+3>=r)break;k[g++]=240|m>>18;k[g++]=128|m>>12&63;k[g++]=128|m>>6&63;k[g++]=128|m&63;z++}}k[g]=0}}return p},array:l=>
{var p=T(l.length);F.set(l,p);return p}};a=c["_"+a];var h=[],n=0;if(e)for(var v=0;v<e.length;v++){var S=f[b[v]];S?(0===n&&(n=U()),h[v]=S(e[v])):h[v]=e[v]}b=a(...h);return b=function(l){0!==n&&V(n);return"string"===d?l?da(l):"":"boolean"===d?!!l:l}(b)},Q=new Uint8Array(123),X=25;0<=X;--X)Q[48+X]=52+X,Q[65+X]=X,Q[97+X]=26+X;Q[43]=62;Q[47]=63;c.printErr&&(y=c.printErr);c.wasmBinary&&(A=c.wasmBinary);c.ccall=W;
c.cwrap=(a,d,b,e)=>{var f=!b||b.every(h=>"number"===h||"boolean"===h);return"string"!==d&&f&&!e?c["_"+a]:(...h)=>W(a,d,b,h,e)};
var V,T,U,ea={},Y=await (async function(){function a(b){Y=b.exports;E=Y.a;b=E.buffer;F=new Int8Array(b);new Int16Array(b);G=new Uint8Array(b);new Uint16Array(b);new Int32Array(b);new Uint32Array(b);var __F32=new Float32Array(b);var __F64=new Float64Array(b);var __I64=new BigInt64Array(b);var __U64=new BigUint64Array(b);b=Y;c._aspheric_sag=b.c;c._vector_dot=b.d;c._vector_cross=b.e;c._vector_normalize=b.f;c._ray_sphere_intersect=b.g;c._batch_vector_normalize=b.h;c._batch_aspheric_sag=b.i;V=b.j;T=b.k;U=b.l;I--;c.monitorRunDependencies?.(I);
// Expose HEAP views for zero-copy interop
try{c.HEAP8=F;c.HEAPU8=G;c.HEAPF32=__F32;c.HEAPF64=__F64;c.HEAP64=__I64;c.HEAPU64=__U64;}catch(__e){}
// Fast wrappers to avoid cwrap overhead
try{c.asphericSagFast=(r,curv,k,a4,a6=0,a8=0,a10=0)=>c._aspheric_sag(r,curv,k,a4,a6,a8,a10);
c.batchAsphericSagFast=(inPtr,outPtr,count,curv,k,a4)=>c._batch_aspheric_sag(inPtr,outPtr,count,curv,k,a4);}catch(__e){}
0==I&&J&&(b=J,J=null,b());return Y}I++;c.monitorRunDependencies?.(I);var d={a:ea};if(c.instantiateWasm)return new Promise(b=>{c.instantiateWasm(d,(e,f)=>{b(a(e,f))})});K??=ca("AGFzbQEAAAABVwtgAX8Bf2ABfwBgCX9/fHx8fHx8fwBgA39/fwBgCnx8fHx8fHx8fHwBfGAEfHx8fwBgB3x8fHx8fH8AYAZ8fHx8fHwBfGAAAX9gB3x8fHx8fHwBfGAAAAMMCwABAgMEBQYHCAkKBQYBAYICggIGCAF/AUGAiAQLBzEMAWECAAFiAAoBYwAJAWQABwFlAAYBZgAFAWcABAFoAAMBaQACAWoAAQFrAAABbAAICs0HCxAAIwAgAGtBcHEiACQAIAALBgAgACQAC80BAgN8An8gAUEASgRAIAIgA0QAAAAAAADwP6CiIAKaoiELA0ACfEQAAAAAAAAAACAAIAxBA3QiDWorAwAiCUQAAAAAAAAAAGENABpEAAAAAAAAAAAgCyAJIAmiIgmiRAAAAAAAAPA/oCIKRAAAAAAAAAAAZQ0AGiACIAmiIAqfRAAAAAAAAPA/oKMgByAJIAkgCaIiAyADoiIKoqIgBiAKoiAEIAOiIAUgCSADoqKgoKCgCyEDIAggDWogAzkDACAMQQFqIgwgAUcNAAsLC9ABAgd8BH8gAUEASgRAA0BEAAAAAAAAAAAhA0QAAAAAAAAAACEERAAAAAAAAAAAIQUgACALQQNsIgpBAmpBA3QiDGorAwAiBiAGoiAAIApBA3QiDWorAwAiByAHoiAAIApBAWpBA3QiCmorAwAiCCAIoqCgIglEAAAAAAAAAABkBEAgBkQAAAAAAADwPyAJn6MiA6IhBSAIIAOiIQQgByADoiEDCyACIA1qIAM5AwAgAiAKaiAEOQMAIAIgDGogBTkDACALQQFqIgsgAUcNAAsLC8gBAQF8RAAAAAAAAPC/IQogAiAIoSICIAWiIAAgBqEiBiADoiAEIAEgB6EiAaKgoCIAIACgIgAgAKIgBSAFoiADIAOiIAQgBKKgoCIDRAAAAAAAABDAoiACIAKiIAYgBqIgASABoqCgIAkgCaKhoqAiAUQAAAAAAAAAAGMEfEQAAAAAAADwvwUgAJogAZ8iAaEgAyADoCICoyIDIAEgAKEgAqMiAEQAAAAAAADwvyAARAAAAAAAAAAAZBsgA0QAAAAAAAAAAGQbCwthAQN8IAMgAiACoiAAIACiIAEgAaKgoCIGRAAAAAAAAAAAYgR8IAJEAAAAAAAA8D8gBp+jIgKiIQQgACACoiEFIAEgAqIFRAAAAAAAAAAACzkDCCADIAQ5AxAgAyAFOQMACzIAIAYgACAEoiABIAOioTkDECAGIAIgA6IgACAFoqE5AwggBiABIAWiIAIgBKKhOQMACxMAIAIgBaIgACADoiABIASioKALBAAjAAuWAQEBfAJ8RAAAAAAAAAAAIABEAAAAAAAAAABhDQAaRAAAAAAAAAAARAAAAAAAAPA/IAEgAkQAAAAAAADwP6CiIAGiIAAgAKIiAKKhIgdEAAAAAAAAAABlDQAaIAYgACAAIACiIgIgAqIiBqKiIAUgBqIgAyACoiAAIAKiIASioKCgIAEgAKIgB59EAAAAAAAA8D+go6ALCwIACw==");return a((await aa(d)).instance)}());
function Z(){function a(){c.calledRun=!0;if(!B){H=!0;Y.b();C?.(c);c.onRuntimeInitialized?.();if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var d=c.postRun.shift();O.push(d)}N(O)}}if(0<I)J=Z;else{if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)ba();N(P);0<I?J=Z:c.setStatus?(c.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>c.setStatus(""),1);a()},1)):a()}}
if(c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.shift()();Z();H?moduleRtn=c:moduleRtn=new Promise((a,d)=>{C=a;D=d});
;return moduleRtn}})();if(typeof exports==="object"&&typeof module==="object"){module.exports=RayTracingWASM;module.exports.default=RayTracingWASM}else if(typeof define==="function"&&define["amd"])define([],()=>RayTracingWASM);
