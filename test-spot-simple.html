<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Show Spot Diagram ãƒ†ã‚¹ãƒˆ</title>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
</head>
<body>
    <h1>ã‚¹ãƒãƒƒãƒˆãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ è¡¨ç¤ºãƒ†ã‚¹ãƒˆ</h1>
    <button onclick="testSpotDiagram()">ã‚¹ãƒãƒƒãƒˆãƒ€ã‚¤ã‚¢ã‚°ãƒ©ãƒ ã‚’è¡¨ç¤º</button>
    <div id="spot-diagram-container" style="width: 100%; height: 600px; border: 1px solid #ccc;"></div>

    <script type="module">
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¨ã—ã¦å…¬é–‹
        window.testSpotDiagram = async function() {
            console.log('ğŸ¯ testSpotDiagram é–‹å§‹');
            try {
                const { showSpotDiagram } = await import('./analysis/optical-analysis.js');
                console.log('âœ… showSpotDiagram ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ');
                
                console.log('ğŸ”„ showSpotDiagram() å®Ÿè¡Œä¸­...');
                await showSpotDiagram();
                console.log('âœ… showSpotDiagram() å®Œäº†');
            } catch (error) {
                console.error('âŒ ã‚¨ãƒ©ãƒ¼:', error);
                console.error('ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹:', error.stack);
                alert(`ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        };
        
        console.log('âœ… testSpotDiagram ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ç™»éŒ²ã•ã‚Œã¾ã—ãŸ');
    </script>
</body>
</html>
